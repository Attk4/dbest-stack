FROM imbios/bun-node:20-alpine

ARG DATABASE_URL
ARG VITE_HOST_URL

ENV DATABASE_URL=$DATABASE_URL
ENV VITE_HOST_URL=$VITE_HOST_URL

WORKDIR /app
COPY . .

RUN bun i
RUN bun run build

EXPOSE 3000

ENTRYPOINT []
CMD ["bun", "start"]
